{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es6.math.trunc.js","webpack:///./src/components/ProductSummary/touch.js"],"names":["$export","S","trunc","it","Math","floor","ceil","Draggable","props","state","relX","relY","x","y","gridX","gridY","onMouseDown","bind","onMouseMove","onMouseUp","onTouchStart","onTouchMove","onTouchEnd","onStart","e","ref","ReactDOM","findDOMNode","this","handle","body","isBrowser","document","box","getBoundingClientRect","setState","pageX","left","scrollLeft","clientLeft","pageY","top","scrollTop","clientTop","onMove","button","addEventListener","preventDefault","removeEventListener","onStop","touches","passive","render","console","log","style","position","touchAction","div","children","React","Component"],"mappings":"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","file":"18-52017a5ffaeb6fc15c83.js","sourcesContent":["// 20.2.2.34 Math.trunc(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  trunc: function trunc(it) {\n    return (it > 0 ? Math.floor : Math.ceil)(it);\n  }\n});\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport isBrowser from \"../../utils/isBrowser\";\n\nclass Draggable extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            relX: 0,\n            relY: 0,\n            x: props.x,\n            y: props.y\n        };\n        this.gridX = props.gridX || 1;\n        this.gridY = props.gridY || 1;\n        this.onMouseDown = this.onMouseDown.bind(this);\n        this.onMouseMove = this.onMouseMove.bind(this);\n        this.onMouseUp = this.onMouseUp.bind(this);\n        this.onTouchStart = this.onTouchStart.bind(this);\n        this.onTouchMove = this.onTouchMove.bind(this);\n        this.onTouchEnd = this.onTouchEnd.bind(this);\n    }\n\n    static propTypes = {\n        onMove: PropTypes.func,\n        onStop: PropTypes.func,\n        x: PropTypes.number.isRequired,\n        y: PropTypes.number.isRequired,\n        gridX: PropTypes.number,\n        gridY: PropTypes.number\n    }; \n\n    onStart(e) {\n        const ref = ReactDOM.findDOMNode(this.handle);\n        const body = isBrowser() && document.body;\n        const box = ref.getBoundingClientRect();\n        this.setState({\n            relX: e.pageX - (box.left + body.scrollLeft - body.clientLeft),\n            relY: e.pageY - (box.top + body.scrollTop - body.clientTop)\n        });\n    }\n\n    onMove(e) {\n        const x = Math.trunc((e.pageX - this.state.relX) / this.gridX) * this.gridX;\n        const y = Math.trunc((e.pageY - this.state.relY) / this.gridY) * this.gridY;\n        if (x !== this.state.x || y !== this.state.y) {\n            this.setState({\n                x,\n                y\n            });\n            this.props.onMove && this.props.onMove(this.state.x, this.state.y);\n        }        \n    }\n\n    onMouseDown(e) {\n        if (e.button !== 0) return;\n        this.onStart(e);\n        isBrowser() && document.addEventListener('mousemove', this.onMouseMove);\n        isBrowser() && document.addEventListener('mouseup', this.onMouseUp);\n        e.preventDefault();\n    }\n\n    onMouseUp(e) {\n        isBrowser() && document.removeEventListener('mousemove', this.onMouseMove);\n        isBrowser() && document.removeEventListener('mouseup', this.onMouseUp);\n        this.props.onStop && this.props.onStop(this.state.x, this.state.y);\n        e.preventDefault();\n    }\n\n    onMouseMove(e) {\n        this.onMove(e);\n        e.preventDefault();\n    }\n\n    onTouchStart(e) {\n        this.onStart(e.touches[0]);\n        isBrowser() && document.addEventListener('touchmove', this.onTouchMove, {passive: false});\n        isBrowser() && document.addEventListener('touchend', this.onTouchEnd, {passive: false});\n        e.preventDefault();\n    }\n\n    onTouchMove(e) {\n        this.onMove(e.touches[0]);\n        e.preventDefault();\n    }\n\n    onTouchEnd(e) {\n        isBrowser() && document.removeEventListener('touchmove', this.onTouchMove);\n        isBrowser() && document.removeEventListener('touchend', this.onTouchEnd);\n        this.props.onStop && this.props.onStop(this.state.x, this.state.y);\n        e.preventDefault();\n    }\n\n    render() {\n        console.log(\"######\", this.state)\n        return <div\n            onMouseDown={this.onMouseDown}\n            onTouchStart={this.onTouchStart}\n            style={{\n                position: 'absolute',\n                left: this.state.x,\n                top: this.state.y,\n                touchAction: 'none'\n            }}\n            ref={(div) => { this.handle = div; }}\n        >\n            {this.props.children}\n        </div>;\n    }\n}\n\nexport default Draggable;"],"sourceRoot":""}